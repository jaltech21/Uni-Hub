<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Welcome Section -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Welcome to Uni-Hub Administration</h1>
    <p class="mt-2 text-gray-600">Manage courses, schedules, and university operations from this central dashboard.</p>
  </div>

  <!-- Quick Action Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <!-- Course Management Card -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border-l-4 border-blue-500">
      <div class="p-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-semibold text-gray-900">ğŸ“š Course Management</h2>
        </div>
        <p class="text-gray-600 mb-4">Create, edit, and manage official university courses. Control course availability and settings.</p>
        
        <div class="flex gap-3 mb-4">
          <%= link_to "View All Courses", admin_panel_courses_path, class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition" %>
          <%= link_to "Create Course", new_admin_panel_course_path, class: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition" %>
        </div>
        
        <div class="pt-4 border-t border-gray-200 space-y-2">
          <p class="text-sm text-gray-700"><strong>Total Courses:</strong> <%= @courses_count %></p>
          <p class="text-sm text-gray-700"><strong>Active Courses:</strong> <%= @active_courses_count %></p>
        </div>
      </div>
    </div>

    <!-- Schedule Management Card -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border-l-4 border-purple-500">
      <div class="p-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-semibold text-gray-900">ğŸ“… Schedule Management</h2>
        </div>
        <p class="text-gray-600 mb-4">Create course schedules, assign instructors, and manage class timings.</p>
        
        <div class="flex gap-3 mb-4">
          <%= link_to "View All Schedules", admin_panel_schedules_path, class: "px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition" %>
          <%= link_to "Create Schedule", new_admin_panel_schedule_path, class: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition" %>
        </div>
        
        <div class="pt-4 border-t border-gray-200 space-y-2">
          <p class="text-sm text-gray-700"><strong>Total Schedules:</strong> <%= @schedules_count %></p>
          <p class="text-sm text-gray-700"><strong>Total Enrollments:</strong> <%= @enrollments_count %></p>
        </div>
      </div>
    </div>

    <!-- User Management Card -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border-l-4 border-orange-500">
      <div class="p-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-semibold text-gray-900">ğŸ‘¥ User Management</h2>
        </div>
        <p class="text-gray-600 mb-4">View and manage students, teachers, and administrators.</p>
        
        <div class="flex gap-3 mb-4">
          <%= link_to "View All Users", admin_user_management_index_path, class: "px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition" %>
        </div>
        
        <div class="pt-4 border-t border-gray-200 space-y-2">
          <p class="text-sm text-gray-700"><strong>Total Users:</strong> <%= @users_count %></p>
          <p class="text-sm text-gray-700"><strong>Students:</strong> <%= @students_count %></p>
          <p class="text-sm text-gray-700"><strong>Teachers:</strong> <%= @teachers_count %></p>
          <p class="text-sm text-gray-700"><strong>Blacklisted:</strong> <span class="text-red-600"><%= @blacklisted_users_count %></span></p>
        </div>
      </div>
    </div>

    <!-- Department Management Card -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border-l-4 border-red-500">
      <div class="p-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-semibold text-gray-900">ğŸ¢ Department Management</h2>
        </div>
        <p class="text-gray-600 mb-4">View and manage university departments and organizational structure.</p>
        
        <div class="flex gap-3 mb-4">
          <%= link_to "View Departments", admin_departments_path, class: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition" %>
        </div>
        
        <div class="pt-4 border-t border-gray-200 space-y-2">
          <p class="text-sm text-gray-700"><strong>Total Departments:</strong> <%= @departments_count %></p>
          <p class="text-sm text-gray-700"><strong>Active Departments:</strong> <%= @active_departments_count %></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Recent Courses -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
      <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
        <h3 class="text-lg font-semibold text-gray-900">ğŸ“Š Recent Courses</h3>
      </div>
      <div class="p-6">
        <% if @recent_courses.any? %>
          <div class="space-y-3">
            <% @recent_courses.each do |course| %>
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <p class="font-medium text-gray-900"><%= link_to course.full_code, admin_panel_course_path(course), class: "text-blue-600 hover:text-blue-800" %></p>
                  <p class="text-sm text-gray-600"><%= course.name %></p>
                  <p class="text-xs text-gray-500"><%= course.department.name %></p>
                </div>
                <% if course.active? %>
                  <span class="px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full">Active</span>
                <% else %>
                  <span class="px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full">Inactive</span>
                <% end %>
              </div>
            <% end %>
          </div>
        <% else %>
          <p class="text-gray-500 text-center py-8">No courses yet</p>
        <% end %>
      </div>
    </div>

    <!-- Recent Audit Logs -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
      <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
        <h3 class="text-lg font-semibold text-gray-900">ğŸ“‹ Recent Admin Actions</h3>
      </div>
      <div class="p-6">
        <% if @recent_audit_logs.any? %>
          <div class="space-y-3">
            <% @recent_audit_logs.each do |log| %>
              <div class="p-3 bg-gray-50 rounded-lg">
                <p class="font-medium text-gray-900 text-sm"><%= log.action_description %></p>
                <p class="text-xs text-gray-600">By <%= log.admin.email %></p>
                <p class="text-xs text-gray-500"><%= time_ago_in_words(log.created_at) %> ago</p>
              </div>
            <% end %>
          </div>
        <% else %>
          <p class="text-gray-500 text-center py-8">No recent activity</p>
        <% end %>
      </div>
    </div>
  </div>
</div>
